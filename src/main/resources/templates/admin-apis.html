<!DOCTYPE html>
<html lang="tr" class="loading"
      xmlns:th="http://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/xhtml">

<head th:replace="admin-template :: head"></head>
  <body data-col="2-columns" class=" 2-columns ">
    <div class="wrapper">
      <!--.main-menu(class="#{menuColor} #{menuOpenType}", class=(menuShadow == true ? 'menu-shadow' : ''))-->
        <div th:replace="admin-template :: sidebar"></div>
        <!-- / main menu-->

      <div class="main-panel">

        <!-- Navbar (Header) Starts-->
          <nav th:replace="admin-template :: header" class="navbar navbar-expand-lg navbar-light bg-faded"></nav>

          <!-- Navbar (Header) Ends-->

        <div class="main-content">
          <div class="content-wrapper"><!--Statistics cards Starts-->
              <div th:replace="admin-template :: messages"></div>

              <section id="extended">
    <div class="row">
        <div class="col-md-12">
			<div class="card">
				<div class="card-header">
					<h4 class="card-title" id="basic-layout-colored-form-control">APİ EKLE</h4>
				</div>
				<div class="card-body">
					<div class="px-3">						

						<form class="form" th:action="@{/admin/apis}" th:object="${newapi}" method="post">
							<div class="form-body">
                                <div class="form-group">
                                    <label for="userinput2">Name</label>
                                    <input required th:field="*{name}" autocomplete="off" type="text" id="userinput2" class="form-control"  name="company">
                                </div>
								<div class="form-group">
								    <label for="userinput2">APİ URL</label>
									<input required th:field="*{url}" autocomplete="off" type="text" id="userinput2" class="form-control"  name="company">
								</div>
                                <div class="row">
                                    <div class="col-8">
                                        <div class="form-group">
                                            <label for="userinput2">APİ KEY</label>
                                            <input required th:field="*{secretKey}" autocomplete="off" type="text" id="userinput2" class="form-control"  name="company">
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group ">
                                            <label for="userinput2">Para Birimi (default : TL)</label>
                                            <div class="custom-control custom-checkbox mb-2 mr-sm-2 mb-sm-0">
                                                <input checked="" th:field="*{useUSD}" class="custom-control-input" id="customcheckbox1" type="checkbox">
                                                <label style="font-size: unset" class="custom-control-label" for="customcheckbox1">USD $</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
							</div>
							<div class="form-actions right">
								<button type="submit" class="btn btn-raised btn-block white gradient-plum">
									<i class="fa fa-check-square-o"></i> Kaydet
								</button>
							</div>
						</form>
                            
					</div>
				</div>
			</div>
		</div>
        <div class="col-md-12 col-sm-12">
            <section id="bootstrap4">
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">APILER</h3>
                            </div>
                            <div class="card-body collapse show">
                                <div class="card-block card-dashboard" style="padding-top: 10px !important; overflow-x: scroll;">
                                    <table class="table table-striped table-bordered bootstrap-3">
                                        <thead>
                                            <tr>
                                                <th th:each="column : ${api_table_colums}" th:text="${column}"></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr th:each="api : ${apis}">
                                                <td th:text="${api.getId()}"></td>
                                                <td th:text="${api.getName()}"></td>
                                                <td th:text="${api.getUrl()}"></td>
                                                <td th:text="${api.getSecretKey()}"></td>
                                                <td>
                                                    <a th:if="${api.isState() == true}" class="btn white btn-round gradient-green-tea">Active</a>
                                                    <a th:if="${api.isState() == false}" class="btn white btn-round gradient-blueberry">Paused</a>
                                                </td>
                                                <td th:text="${api.getBalance()}"></td>
                                                <td>
                                                    <a th:href="@{'/admin/apis/activate/' + ${api.getId()}}" th:if="${api.isState() == false}"
                                                       class="info p-0" data-original-title="" title="Activate">
                                                        <i class="ft-plus-circle font-medium-3 mr-2"></i>
                                                    </a>
                                                    <a th:href="@{'/admin/apis/passivate/' + ${api.getId()}}" th:if="${api.isState() == true}"
                                                       class="danger p-0" data-original-title="" title="Passivate">
                                                        <i class="ft-minus-circle font-medium-3 mr-2"></i>
                                                    </a>
                                                </td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <th th:each="column : ${api_table_colums}" th:text="${column}"></th>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

    </div>
</section>
          </div>
        </div>


      </div>
    </div>
    <script th:src="@{/vendors/js/core/jquery-3.2.1.min.js}" type="text/javascript"></script>
    <script th:src="@{/vendors/js/core/popper.min.js}" type="text/javascript"></script>
    <script th:src="@{/vendors/js/core/bootstrap.min.js}" type="text/javascript"></script>
    <script th:src="@{/vendors/js/perfect-scrollbar.jquery.min.js}" type="text/javascript"></script>
    <script th:src="@{/vendors/js/prism.min.js}" type="text/javascript"></script>
    <script th:src="@{/vendors/js/jquery.matchHeight-min.js}" type="text/javascript"></script>
    <script th:src="@{/vendors/js/screenfull.min.js}" type="text/javascript"></script>
    <script th:src="@{/vendors/js/pace/pace.min.js}" type="text/javascript"></script>
    <script th:src="@{/js/app-sidebar.js}" type="text/javascript"></script>
    <script th:src="@{/js/notification-sidebar.js}" type="text/javascript"></script>
    <script th:src="@{/js/customizer.js}" type="text/javascript"></script>
    <script th:src="@{/vendors/js/datatable/datatables.min.js}" type="text/javascript"></script>
    <script th:src="@{/js/data-tables/datatable-styling.js}" type="text/javascript"></script>
  </body>

</html>